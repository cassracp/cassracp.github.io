<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auxiliar Demaria</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <!-- SweetAlert2 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <!-- Estilos Personalizados -->
    <link rel="stylesheet" href="/stylesheets/style.css">
</head>
<body>
        <div class="container-fluid">
        <div class="row">
            <!-- Menu Lateral -->
            <nav class="navbar navbar-brand bg-info">
                <a class="navbar-brand" href="javascript:location.reload();">
                    <img src="site/icons/icon_base96.png" alt="Auxiliar DeMaria">
                    <b><font color="white" size="5">Auxiliar DeMaria</font></b>
                </a>
            </nav>         
            
            <br>
            <main class="col-md-auto col-lg-auto">
				<div class="content">
                    <!-- Remover o painel HTML aqui -->
				</div>
            </main>
        </div>
    </div>

    <div class="container-fluid editor-container-main">
        <!-- ** NOVA ESTRUTURA DE ABAS ** -->
        <!-- O container para as abas será populado dinamicamente pelo JavaScript -->
        <div id="tab-container" class="tab-container"></div>

        <!-- O container para as áreas de texto dos editores -->
        <div id="editor-area-container" class="editor-area-container">
            <!-- Cada editor terá seu próprio wrapper criado dinamicamente aqui -->
        </div>
    </div>

    

        <div class="footer-container">
        <footer style="text-align: center;">
            <font size="1">
                Ferramenta desenvolvida por Cássio Rodolfo Alves de Carvalho Pinto (cassio@demaria.com.br). Sem fins lucrativos e para uso interno dos colaboradores da DeMaria Software®. DeMaria Software® é uma marca registrada e tem todos os seus direitos reservados.
            </font>
        </footer>
    </div>
                

    <input type='text' id="custom" style="display: none;"/>

    <!-- Scripts -->

    <script type="application/javascript" src="site/editorhtml/editorhtml.js?v=1.0"></script>
     <!-- FontAwasome-->
    <script src="https://kit.fontawesome.com/da97544b74.js" crossorigin="anonymous"></script>
    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.all.min.js"></script>
    <!-- TinyMCE -->
    <script type="application/javascript" src="site/tinymce/tinymce.min.js?v=1.1"></script>
    <!-- Configuração do TinyMCE (agora com lógica de abas) -->
    <script type="application/javascript" src="site/tinymce/my-tinymce-config.js?v=2.1"></script>

    <!-- Funções globais que podem ser chamadas pelo editor -->
    <script>
        // Funções que precisam estar no escopo global para serem acessadas pelo editor
        function InserirLinkOS(nOS) {
            return `<a href="https://app.pipefy.com/pipes/1576343301#cards/${nOS}" target="_blank" rel="noopener">OS ${nOS}</a>`;
        }
        function InserirLinkTarefa(nTarefa) {
            return `<a href="https://app.pipefy.com/pipes/1576343301#cards/${nTarefa}" target="_blank" rel="noopener">Tarefa ${nTarefa}</a>`;
        }
        function SomenteNumeros(texto) {
            return /^\d+$/.test(texto);
        }
        // Funções de Tópicos e Telefone (mantidas para compatibilidade)
        function ExibirFormatarTelefone() { console.log("Formatar Telefone chamado"); }
        function ExibirTopicoTarefa() { console.log("Tópico Tarefa chamado"); }
        function ExibirTopicoOS() { console.log("Tópico OS chamado"); }
        function confirmacao(titulo, mensagem, callbackConfirm, callbackCancel) {
            Swal.fire({
                title: titulo,
                text: mensagem,
                icon: "question",
                showCancelButton: true,
                confirmButtonText: "Sim",
                cancelButtonText: "Cancelar"
            }).then((result) => {
                if (result.isConfirmed) {
                    if (callbackConfirm) callbackConfirm();
                } else {
                    if (callbackCancel) callbackCancel();
                }
            });
        }
    </script>
</body>
</html>
