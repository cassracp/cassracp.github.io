<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Permissions-Policy" content="interest-cohort=()">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <style>
        textarea {
            resize: auto !important;
        }

        #modalPreviaContent {
             white-space: pre-line;
        }
    </style>
    <script src="jquery/jquery-3.7.1.js"></script>
    <script src="mousetrap/mousetrap.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="editorhtml/editorhtml.js"></script>
    <script src="site/functions.js"></script>
    <script>
        const editor = document.getElementById('editor');
        editor.focus();
    </script>
    <title>Editor de Texto HTML</title>
</head>
<body>
    <br>  
    <div class="container-fluid align-items-center">
        <div class="btn-toolbar align-self-center">
            <div class="btn-group">
                <button class="btn btn-light border-dark" id="btnCopiar" accesskey="a" title="Copiar (Alt+A)" onclick="CopiarTexto()">Copiar <img src="icons/copiar.png" alt="Copiar"></button>
                <!--<button class="btn btn-group border-dark-subtle" disabled>          </button> -->
                <button class="btn btn-outline-warning border-dark" id="btnLimpar" accesskey="x" title="Limpar (Alt+X)" onclick="LimparEditor()" >Limpar <img src="icons/limpar.png" alt="Limpar"></button>
                <!--<button class="btn btn-group border-dark-subtle" disabled>          </button> -->
                <button class="btn btn-outline-info border-dark" id="btnPrevia" accesskey="v" title="Prévia (Alt+V)" onclick="ExibirPrevia()" >Prévia <img src="icons/previa.png" height="25px" width="25px" alt="Prévia"></button>
                <button class="btn btn-outline-success border-dark" id="btnSalvar" accesskey="s" title="Salvar (Shift+Alt+S)" onclick="SalvarHTML()" >Salvar <img src="icons/salvar.png" height="25px" width="25px" alt="Salvar"></button>
                <button class="btn btn-group" disabled>Ferramentas: </button> 
                <button class="btn btn-outline-primary border-dark" id="btnFormatarTelefone" title="Formatar Telefone" onclick="ExibirFormatarTelefone()" >Formatar Telefone <img src="icons/phone.png" alt="Formatar Telefone"></button>
                <button class="btn btn-outline-primary border-dark" id="btnTopicoTarefa" title="Tópico Tarefa" onclick="ExibirTopicoTarefa()" >Tópico Tarefa <img src="icons/topico.png" alt="Tópico"></button>
            </div>
        </div>
        <br>
        <div class="btn-group mt-lg-auto">
            <button class="btn btn-group" disabled>Simples: </button> 
            <button class="btn btn-outline-info border-dark" id="btnBold" accesskey="b" title="Negrito (Alt+B)" onclick="addTag('b')"><b><img src="icons/negrito.png" alt="Negrito"></b></button>
            <button class="btn btn-outline-info border-dark" id="btnItalic" accesskey="i" title="Itálico (Alt+I)" onclick="addTag('i')"><i><img src="icons/italico.png" alt="Itálico"></i></button>
            <button class="btn btn-outline-info border-dark" id="btnUnderln" accesskey="u" title="Sublinhado (Alt+U)" onclick="addTag('u')"><u><img src="icons/sublinhado.png" alt="Sublinhado"></u></button>
            <button class="btn btn-outline-info border-dark" id="btnStrike" accesskey="t" title="Tachado (Alt+T)" onclick="addTag('s')"><s><img src="icons/tachado.png" alt="Tachado"></s></button>
            <button class="btn btn-outline-info border-dark" id="btnQuote" accesskey="q" title="Quote (Alt+Q)" onclick="addBlockquote()"><img src="icons/quote.png" alt="Quote"></button>
            <button class="btn btn-outline-info border-dark" id="btnList" accesskey="l" title="Lista (Alt+L)" onclick="addLista()"><img src="icons/lista.png" alt="Lista"></button>
            <button class="btn btn-outline-info border-dark" id="btnNumList" accesskey="1" title="Lista Numerada (Alt+1)" onclick="addListaNumerada()"><img src="icons/numerada.png" alt="Lista Numerada"></button>
            <button class="btn btn-outline-info border-dark" id="btnLinha" accesskey="h" title="Linha (Alt+H)" onclick="addTag('hr')"><img src="icons/h-line.png" alt="Linha Horizontal"></button>
            <button class="btn btn-outline-info border-dark" id="btnPre" accesskey="p" title="Texto Pré-Formatado (Alt+P)" onclick="addTag('pre')"><img src="icons/pre.png" alt="Texto Pré-Formatado"></button>
            <button class="btn btn-outline-info border-dark" id="btnCode" accesskey="c" title="Código Fonte (Alt+C)" onclick="addTag('code')"><img src="icons/code.png" alt="Código Fonte"></button>
            <button class="btn btn-group" disabled>Especiais: </button> 
            <button class="btn btn-outline-info border-dark" id="btnSpoiler" accesskey="s" title="Spoiler" onclick="AbrirSpoiler()"><img src="icons\spoiler.png" alt="Spoiler"/></button>
            <button class="btn btn-outline-info border-dark" id="btnLinkOS" title="Link OS" onclick="AbrirLinkOS()"><img src=icons\link_os.png alt="Link OS"></button> 
            <button class="btn btn-outline-info border-dark" id="btnLinkTarefa" title="Link Tarefa" onclick="AbrirLinkTarefa()"><img src=icons\link_tarefa.png alt="Link Tarefa"></button>
            <button class="btn btn-outline-info border-dark" id="btnImage" title="Inserir Imagem" onclick="AbrirImagem()"><img src="icons\imagem2.png" alt="Imagem"></button>
            <button class="btn btn-outline-info border-dark" id="btnAbrirData" accesskey="d" title="Inserir Data (Shift+Alt+D)" onclick="AbrirData()"><img src="icons\calendar.png" alt="Data"/></button>         
            <button class="btn btn-outline-info border-dark" id="btnAbrirDataGoogle" accesskey="g" title="Data da Agenda do Google (Shift+Alt+G)" onclick="AbrirDataGoogle()"><img src="icons\gcalendar.png" alt="Agenda do Google"/></button>         
        </div>
        <div class="col-md-12 text-left">
            <textarea id="editor" class="mousetrap form-control" rows="20" placeholder="Digite aqui..."></textarea>
        </div>
        <br><br>        
        <br>
    </div>

    <!-- Modal de Prévia -->
    <div class="modal fade" id="previaModal" tabindex="-1" role="dialog" aria-labelledby="previaModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content" style="white-space: pre-line;">
                <div class="modal-header">
                    <h5 class="modal-title" id="previaModalLabel">Prévia do Texto Formatado</h5>
                    <button type="button" class="btn btn-outline-secondary border-dark" title="Fechar" data-dismiss="modal" onclick="$('#previaModal').modal('hide');"><img src="icons/close.png" alt="Fechar"></button>
                </div>
                <div class="modal-body">
                    <div id="modalPreviaContent"></div>
                    <button id="btnSalvarHTML" class="btn btn-outline-success" title="Salvar Prévia em .html" onclick="SalvarHTML()">Salvar <img src="icons/salvar.png" height="25px" width="25px" alt="Salvar"></button>
                </div>
            </div>
        </div>
    </div>

            <!-- Modal de Tormatar Telefone -->
            <div class="modal fade" id="formatarTelefoneModal" tabindex="-1" role="dialog" aria-labelledby="formatarTelefoneModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content" style="white-space: pre-line;">
                        <div class="modal-header">
                            <h5 class="modal-title" id="formatarTelefoneModalLabel">Formatar Telefone</h5>
                            <button type="button" class="btn btn-outline-secondary border-dark" title="Fechar" data-dismiss="modal" onclick="$('#formatarTelefoneModal').modal('hide');"><img src="icons/close.png" alt="Fechar"></button>
                        </div>
                        <div class="modal-body">
                            <div id="modalFormatarTelefoneContent"></div>
                        </div>
                    </div>
                </div>
            </div>

        <!-- Modal de tópico tarefa -->
        <div class="modal fade" id="topicoTarefaModal" tabindex="-1" role="dialog" aria-labelledby="topicoTarefaModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content" style="white-space: pre-line;">
                    <div class="modal-header">
                        <h5 class="modal-title" id="topicoTarefaModalLabel">Tópico de Tarefa</h5>
                        <button type="button" class="btn btn-outline-secondary border-dark" title="Fechar" data-dismiss="modal" onclick="$('#topicoTarefaModal').modal('hide');"><img src="icons/close.png" alt="Fechar"></button>
                    </div>
                    <div class="modal-body">
                        <div id="modalTopicoTarefaContent"></div>
                    </div>
                </div>
            </div>
        </div>


    <!-- Modal para inserir texto do spoiler -->
    <div class="modal fade" id="spoilerModal" tabindex="-1" role="dialog" aria-labelledby="spoilerModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="spoilerModalLabel">Insira o Título do Spoiler</h5>
                    <button type="button" class="btn btn-outline-secondary border-dark" title="Fechar" data-dismiss="modal" onclick="$('#spoilerModal').modal('hide');"><img src="icons/close.png" alt="Fechar"></button>
                </div>
                <div class="modal-body">
                    <input type="checkbox" class="form-check-input" id="usarModelo" onchange="UsarTituloModelo()" checked> Usar modelo pré-definido
                    <br>
                    <div class="form-group row" id="divSelecionarModelo">Selecione um modelo:
                        <select id="modeloTitulo" class="form-control">
                            <option value="Especificações de Hardware Servidor">Especificações de Hardware Servidor</option>
                            <option value="Informações Importantes">Informações Importantes</option>
                            <option value="Aviso">Aviso</option>
                        </select>
                    </div>
                    <div class="form-group row d-none" id="divInserirTitulo">
                        <textarea id="tituloSpoiler" class="form-control" rows="2" placeholder="Insira o Título do spoiler" required></textarea>
                    </div>     
                </div>
                  
                <div class="modal-footer">
                      <button type="button" class="btn btn-primary" onclick="InserirSpoiler()">Inserir</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para inserir Número da OS -->
    <div class="modal fade" id="linkOSModal" tabindex="-1" role="dialog" aria-labelledby="linkOSModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="linkOSModalLabel">Insira o Número da OS</h5>
                    <button type="button" class="btn btn-outline-secondary border-dark" title="Fechar" data-dismiss="modal" onclick="$('#linkOSModal').modal('hide');"><img src="icons/close.png" alt="Fechar"></button>
                </div>
                <div class="modal-body">
                    <div class="form-group row" id="divInserirNumOS">
                        <input type="number" id="numeroOS" class="form-control" rows="1" placeholder="Insira o número da OS" onkeyup="addLinkOS(event)" required></textarea>
                    </div>     
                </div>
                  
                <div class="modal-footer">
                      <button type="button" class="btn btn-primary" onclick="addLinkOS()">Inserir</button>
                </div>
            </div>
        </div>
    </div>

     <!-- Modal para inserir Número da Tarefa -->
     <div class="modal fade" id="linkTarefaModal" tabindex="-1" role="dialog" aria-labelledby="linkTarefaModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="linkTarefaModalLabel">Insira o Número da Tarefa</h5>
                    <button type="button" class="btn btn-outline-secondary border-dark" title="Fechar" data-dismiss="modal" onclick="$('#linkTarefaModal').modal('hide');"><img src="icons/close.png" alt="Fechar"></button>
                </div>
                <div class="modal-body">
                    <div class="form-group row" id="divInserirNumTarefa">
                        <input type="number" id="numeroTarefa" class="form-control" rows="1" placeholder="Insira o número da Tarefa" onkeyup="addLinkTarefa(event)" required></textarea>
                    </div>     
                </div>
                  
                <div class="modal-footer">
                      <button type="button" class="btn btn-primary" onclick="addLinkTarefa()">Inserir</button>
                </div>
            </div>
        </div>
    </div>

            <!-- Modal para inserir Imagem -->
            <div class="modal fade" id="ImagemModal" tabindex="-1" role="dialog" aria-labelledby="ImagemModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="ImagemModalLabel">Insira a data do Calendario</h5>
                        <button type="button" class="btn btn-outline-secondary border-dark" title="Fechar" data-dismiss="modal" onclick="$('#ImagemModal').modal('hide');"><img src="icons/close.png" alt="Fechar"></button>
                    </div>
                    <div class="modal-body">
                        <div class="form-group row" id="divInserirURLImagem">
                            <textarea id="urlImagem" class="form-control" rows="1" placeholder="Insira a URL da Imagem:" onkeyup="addURLImagem(event)" required></textarea>
                        </div>
                        <br>
                        Descrição da imagem: 
                        <div class="form-group row" id="divInserirDescImagem">
                            <textarea id="descImagem" class="form-control" rows="1" placeholder="Insira a descrição da Imagem (opcional)" onkeyup="addURLImagem(event)"></textarea>
                        </div>     
                    </div>
                        
                    <div class="modal-footer">
                            <button type="button" class="btn btn-primary" onclick="addURLImagem()">Inserir</button>
                    </div>
                </div>
            </div>
        </div>

         <!-- Modal para inserir Data -->
         <div class="modal fade" id="DataModal" tabindex="-1" role="dialog" aria-labelledby="DataModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="DataModalLabel">Insira a Data</h5>
                        <button type="button" class="btn btn-outline-secondary border-dark" title="Fechar" data-dismiss="modal" onclick="$('#DataModal').modal('hide');"><img src="icons/close.png" alt="Fechar"></button>
                    </div>
                    <div class="modal-body">
                        <input type="date" id="dataSelecionada" onchange="UsarDataFormatada(document.getElementById('dataSelecionada').value)"><br>
                        <input type="checkbox" class="form-check-input" id="chkDataFormatada" onchange="UsarDataFormatada()" checked> Usar Data Formatada
                        <br><p>Exemplo: <span class="" id="exemploDataFormatada"></span></p>
                    </div>
                    <div class="modal-footer">
                          <button type="button" class="btn btn-primary" onclick="addData()">Inserir</button>
                    </div>
                </div>
            </div>
        </div>

         <!-- Modal para inserir Data do Calendario do Google -->
         <div class="modal fade" id="DataGoogleModal" tabindex="-1" role="dialog" aria-labelledby="DataGoogleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="DataGoogleModalLabel">Insira a Data da Agenda do Google</h5>
                        <button type="button" class="btn btn-outline-secondary border-dark" title="Fechar" data-dismiss="modal" onclick="$('#DataGoogleModal').modal('hide');"><img src="icons/close.png" alt="Fechar"></button>
                    </div>
                    <div class="modal-body">
                        <div class="form-group row" id="divAbrirDataGoogle">
                            <textarea id="dataGoogle" class="form-control" rows="1" placeholder="Cole a Data da Agenda do Google (conforme exemplo)" onkeyup="addDataGoogle(event)" required></textarea>
                            <br>
                            <div style="margin: 5px 20px 20px;"><div class="smallfont" style="margin-bottom: 2px;"><b>Exemplo:</b>: <input value="Open" style="margin: 0px; padding: 0px; width: 50px; font-size: 11px;" onclick="if (this.parentNode.parentNode.getElementsByTagName('div')[1].getElementsByTagName('div')[0].style.display != '') { this.parentNode.parentNode.getElementsByTagName('div')[1].getElementsByTagName('div')[0].style.display = ''; this.innerText = ''; this.value = 'Close'; } else { this.parentNode.parentNode.getElementsByTagName('div')[1].getElementsByTagName('div')[0].style.display = 'none'; this.innerText = ''; this.value = 'Open'; }" type="button"></div><div class="alt2" style="border: 1px inset ; margin: 0px; padding: 6px;"><div style="display: none;">                            <img src="https://lh3.googleusercontent.com/pw/ADCreHfFlsSHnw0zwDo1FaoUnR5DIE6_WUCEUN1Tn3KvZB-ZaYbKotL7hmMVv9Gy40OdSVa1y55VsWSL2E38VAdpmbekExnHeGgUBU_vr5COsXDOQvk-fGt8aZVBToXts5r9Ku6BHwBlLXUGKTKu-6k1p33Y=w445-h124-s-no-gm?authuser=0" width="300" height="150"></div></div></div>
                        </div>     
                    </div>
                      
                    <div class="modal-footer">
                          <button type="button" class="btn btn-primary" onclick="addDataGoogle()">Inserir</button>
                    </div>
                </div>
            </div>
        </div>

        <footer><small>icons by <a href="https://icons8.com">Icons8</a></small></footer>

        <script>
            /*Mousetrap.bind('ctrl+shift+up', function(e, combo){
                console.log(combo);
            });*/
        </script>
</body>
</html>
